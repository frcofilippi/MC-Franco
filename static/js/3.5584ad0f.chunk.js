(this["webpackJsonpmc-franco"]=this["webpackJsonpmc-franco"]||[]).push([[3],{112:function(e,t,r){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3xsyB",Controls:"CheckoutSummary_Controls__pjYi2"}},113:function(e,t,r){e.exports={ContactData:"ContactData_ContactData__2IpH5"}},114:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r(10),i=r(12),o=r(11),l=r(2),c=r.n(l),u=r(67),d=r(48),s=r(112),p=r.n(s),m=function(e){return c.a.createElement("div",{className:p.a.CheckoutSummary},c.a.createElement("h3",null,"Hope this tastes well!"),c.a.createElement(u.a,{burgerIngredients:e.burgerIngredients}),c.a.createElement("div",{className:p.a.Controls},c.a.createElement(d.a,{type:"danger",clicked:e.cancelClicked},"CANCEL"),c.a.createElement(d.a,{type:"success",clicked:e.continueClicked},"CONTINUE")))},h=r(4),v=r(25),g=r(66),y=r(14),b=r(15),f=r(113),C=r.n(f),k=r(32),E=r(23),O=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={orderForm:{name:{inputType:"input",value:"",label:"Name",elementConfig:{placeholder:"Enter your name",type:"text",validationRules:{required:!0,maxLength:3}},touched:!1,valid:!0},email:{inputType:"input",value:"",label:"Email",elementConfig:{placeholder:"Enter your email",type:"email",validationRules:{required:!0,minLength:6}},touched:!1,valid:!0},street:{inputType:"input",value:"",label:"Street",elementConfig:{placeholder:"Enter your address",type:"text",validationRules:{required:!0,minLength:10}},touched:!1,valid:!0},zipcode:{inputType:"input",value:"",label:"Zipcode",elementConfig:{placeholder:"Enter your zipcode",type:"text",validationRules:{required:!0,minLength:5}},touched:!1,valid:!0},country:{inputType:"input",value:"",label:"Country",elementConfig:{placeholder:"Enter your Country",type:"text",validationRules:{required:!0}},touched:!1,valid:!0},deliveryMethod:{inputType:"dropdown",value:"",label:"Delivery Method",elementConfig:{options:[{value:"regular",displayValue:"Regular Delivery (from 1 to 2 hours)"},{value:"express",displayValue:"Regular Delivery (within 30 minutes)"}],validationRules:null},touched:!0,valid:!0}},orderFormValid:!1},e.orderClickHandler=function(t){t.preventDefault();var r=Object(h.a)({},e.state.orderForm),a={};Object.keys(r).map((function(e){return a[e]=r[e].value}));var n={ingredients:e.props.burgerIngredients,price:e.props.totalPrice,date:new Date,contact:a,userId:e.props.user.uid};e.props.onOrderPlaced(e.props.user.idToken,n,e.props.history)},e.inputChangeHandler=function(t,r){var a=Object(h.a)({},e.state.orderForm),n=t.target.value;a[r].value=n,a[r].touched=!0,a[r].valid=e.validateInput(r,n);var i=e.checkFormValidity();e.setState({orderForm:a,orderFormValid:i})},e}return Object(n.a)(r,[{key:"checkFormValidity",value:function(){var e=!0;for(var t in this.state.orderForm)!1!==this.state.orderForm[t].valid&&!1!==this.state.orderForm[t].touched||(e=!1);return e}},{key:"validateInput",value:function(e,t){var r=this.state.orderForm[e].elementConfig.validationRules,a=!0;return r&&r.required&&""===t&&!0===this.state.orderForm[e].touched&&(a=!1),r&&r.minLength&&t.length<r.minLength&&(a=!1),r&&r.maxLength&&t.length>r.maxLength&&(a=!1),a}},{key:"render",value:function(){var e=this,t=[];for(var r in this.state.orderForm)t.push(Object(h.a)({id:r},this.state.orderForm[r]));var a=t.map((function(t){return c.a.createElement(g.a,Object.assign({key:t.id},t,{changed:e.inputChangeHandler}))})),n=c.a.createElement("div",{className:C.a.ContactData},c.a.createElement("h3",null,"Enter your contact information:"),c.a.createElement("form",{onSubmit:this.orderClickHandler},a,c.a.createElement("button",{type:"submit",disabled:!this.state.orderFormValid},"Place Order")));return c.a.createElement(c.a.Fragment,null,this.props.loading?c.a.createElement(v.a,null):n)}}]),r}(l.Component),F=Object(y.b)((function(e){return{totalPrice:e.burger.totalPrice,burgerIngredients:e.burger.burgerIngredients,loading:e.orders.loading,user:e.auth.user}}),(function(e){return{onOrderPlaced:function(t,r,a){return e(Object(b.b)(t,r,a))}}}))(Object(k.a)(O,E.a)),j=r(8),I=function(e){Object(i.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).continueClickedHandler=function(){e.props.history.replace("/checkout/contact-data")},e.cancelClickedHandler=function(){e.props.history.goBack()},e}return Object(n.a)(r,[{key:"render",value:function(){var e=c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{burgerIngredients:this.props.ingredients,continueClicked:this.continueClickedHandler,cancelClicked:this.cancelClickedHandler}),c.a.createElement(j.b,{path:this.props.match.path+"/contact-data",component:F}));return c.a.createElement(c.a.Fragment,null,this.props.ingredients?e:c.a.createElement(j.a,{to:"/"}))}}]),r}(l.Component);t.default=Object(y.b)((function(e){return{ingredients:e.burger.burgerIngredients}}))(I)}}]);
//# sourceMappingURL=3.5584ad0f.chunk.js.map