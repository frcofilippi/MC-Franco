(this["webpackJsonpmc-franco"]=this["webpackJsonpmc-franco"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l}));var r="LOGIN_START",a="LOGIN_SUCCESS",c="LOGIN_FAIL",o="LOGOUT",i="SIGNUP_START",u="SIGNUP_SUCCESS",l="SIGNUP_FAIL"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return E}));var r=n(26),a=n(23),c=function(e){return{type:r.a,ingredientName:e}},o=function(e){return{type:r.c,ingredientName:e}},i=function(){return function(e){a.a.get("/ingredients.json").then((function(t){return e((n=t.data,{type:r.b,burgerIngredients:n}));var n})).catch((function(t){return e({type:r.d})}))}},u=n(4),l=n(17),s=function(e,t,n){return function(r){r({type:l.a}),a.a.post("/orders.json?auth=".concat(e),t).then((function(e){return n.push("/"),r(function(e,t){return{type:l.f,orderId:e,orderData:t}}(e.data.name,t)),r()})).catch((function(e){return r((t=e,{type:l.e,error:t}));var t}))}},d=function(e,t){return function(n){n({type:l.c}),a.a.get("/orders.json?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"')).then((function(e){var t,r=e.data,a=[];for(var c in r)a.push(Object(u.a)({id:c},r[c]));n((t=a,{type:l.d,fetchedOrders:t}))})).catch((function(e){var t;n((t=e,{type:l.b,error:t}))}))}},p=n(13),m=n(80).a.initializeApp({apiKey:"AIzaSyBSpYj2HOSBPoU4IaSdzCbLYWmgswq2ItA",authDomain:"react-mc-franco.firebaseapp.com",databaseURL:"https://react-mc-franco.firebaseio.com",projectId:"react-mc-franco",storageBucket:"react-mc-franco.appspot.com",messagingSenderId:"237448758454",appId:"1:237448758454:web:0bb4f19032112729f01217"}),g=function(e,t,n){localStorage.setItem("ID_TOKEN",e),localStorage.setItem("USER_ID",t),localStorage.setItem("TOKEN_EXP_DATE",n)},h=function(e,t){return function(n){n(v());var r=m.auth();r.signInWithEmailAndPassword(e,t).then((function(e){var t=r.currentUser.toJSON();n(_(t.uid,t.stsTokenManager.accessToken,t.stsTokenManager.expirationTime)),g(t.stsTokenManager.accessToken,t.uid,t.stsTokenManager.expirationTime)})).catch((function(e){return n(O(e.message))}))}},f=function(e,t){return function(n){n(k());var r=m.auth();r.createUserWithEmailAndPassword(e,t).then((function(e){var t=r.currentUser.toJSON();g(t.stsTokenManager.accessToken,t.uid,t.stsTokenManager.expirationTime),n(j(t.uid,t.stsTokenManager.accessToken,t.stsTokenManager.expirationTime))})).catch((function(e){return n(I(e))}))}},b=function(){return function(e){var t={idToken:localStorage.getItem("ID_TOKEN"),uid:localStorage.getItem("USER_ID"),expDate:new Date(+localStorage.getItem("TOKEN_EXP_DATE"))};t.idToken&&(t.expDate>(new Date).getTime()?e(_(t.uid,t.idToken,t.expDate)):e(E()))}},E=function(){return function(){try{localStorage.removeItem("ID_TOKEN"),localStorage.removeItem("USER_ID"),localStorage.removeItem("TOKEN_EXP_DATE")}catch(e){console.error(e)}}(),{type:p.d}},v=function(){return{type:p.b}},_=function(e,t,n){return{type:p.c,user:{uid:e,idToken:t,expDate:n}}},O=function(e){return{type:p.a,error:e}},k=function(){return{type:p.f}},j=function(e,t,n){return{type:p.g,user:{uid:e,idToken:t,expDate:n}}},I=function(e){return{type:p.e,error:e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u}));var r="BEGIN_ORDER",a="ORDER_PLACED_SUCCESFULLY",c="ORDER_PLACED_ERROR",o="LOAD_ORDERS_START",i="LOAD_ORDERS_SUCESS",u="LOAD_ORDERS_FAIL"},,function(e,t,n){"use strict";t.a=function(e){return e.children}},,,,function(e,t,n){"use strict";var r=n(76),a=n.n(r).a.create({baseURL:"https://react-mc-franco.firebaseio.com/"});t.a=a},,function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(75),o=n.n(c);t.a=function(e){return a.a.createElement("div",{className:o.a.Loader},"Loading...")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var r="ADD_INGREDIENTE",a="REMOVE_INGREDIENTE",c="INITIALIZE_INGREDIENTS",o="SET_ERROR"},,function(e,t,n){e.exports={BreadBottom:"BurgerIngredients_BreadBottom__3pYbf",BreadTop:"BurgerIngredients_BreadTop__1vvL5",Seeds1:"BurgerIngredients_Seeds1__3_Yni",Seeds2:"BurgerIngredients_Seeds2__bvSZo",Meat:"BurgerIngredients_Meat__iyNQO",Cheese:"BurgerIngredients_Cheese__3Z600",Salad:"BurgerIngredients_Salad__3s5sk",Bacon:"BurgerIngredients_Bacon__1I1el"}},,,,function(e,t,n){"use strict";var r=n(9),a=n(10),c=n(12),o=n(11),i=n(2),u=n.n(i),l=n(19),s=n(43);t.a=function(e,t){return function(n){Object(c.a)(d,n);var i=Object(o.a)(d);function d(){var e;Object(r.a)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=i.call.apply(i,[this].concat(n))).state={error:null},e.onErrorCloseModalHandler=function(){e.setState({error:null})},e}return Object(a.a)(d,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return u.a.createElement(l.a,null,u.a.createElement(s.a,{show:this.state.error,closeModal:this.onErrorCloseModalHandler},"Something did not work!"),u.a.createElement(e,this.props))}}]),d}(i.Component)}},function(e,t,n){e.exports={InputElement:"InputElement_InputElement__30nig",Invalid:"InputElement_Invalid__1AUDj"}},function(e,t,n){e.exports={Container:"Toggle_Container__kvw-O",Label:"Toggle_Label__3DO3l",ToggleButton:"Toggle_ToggleButton__3trCt",InnerCircle:"Toggle_InnerCircle__37j_X",Active:"Toggle_Active__3LqTs"}},,,,function(e,t,n){e.exports={Sidedrawer:"Sidedrawer_Sidedrawer__2eV2O",Open:"Sidedrawer_Open__27ZZ1",Close:"Sidedrawer_Close__13IDn",Logo:"Sidedrawer_Logo__2dBSU"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1RGpp",Label:"BuildControl_Label__1Hib4",Less:"BuildControl_Less__2YBzk",More:"BuildControl_More__1zVG8"}},,,function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(73),o=n.n(c);t.a=function(e){var t=null;return e.show&&(t=a.a.createElement("div",{className:o.a.Backdrop,onClick:e.clicked})),t}},function(e,t,n){"use strict";var r=n(9),a=n(10),c=n(12),o=n(11),i=n(2),u=n.n(i),l=n(78),s=n.n(l),d=n(42),p=n(19),m=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=null;return this.props.show&&(e=u.a.createElement(p.a,null,u.a.createElement(d.a,{show:this.props.show,clicked:this.props.closeModal}),u.a.createElement("div",{className:s.a.ModalContainer},this.props.children))),e}}]),n}(i.Component);t.a=m},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1kC0v",Logo:"Toolbar_Logo__t92w4",DesktopOnly:"Toolbar_DesktopOnly__1lPGt"}},function(e,t,n){e.exports={Button:"Button_Button__2hEoa",Success:"Button_Success__-X39M",Cancel:"Button_Cancel__1_9w5"}},,,function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(45),o=n.n(c);t.a=function(e){var t=[];return t.push(o.a.Button),"success"===e.type?t.push(o.a.Success):t.push(o.a.Cancel),a.a.createElement("button",{className:t.join(" "),onClick:e.clicked},e.children)}},function(e,t,n){e.exports={NavItem:"NavigationItem_NavItem__1pIUh",active:"NavigationItem_active__2BohY"}},,,,function(e,t,n){e.exports={ControlPanel:"BuildControls_ControlPanel__1smp0",CheckoutButton:"BuildControls_CheckoutButton__3wFx6"}},function(e,t,n){e.exports={Order:"Order_Order__1ljFF",OrderLabel:"Order_OrderLabel__2iGtk"}},function(e,t,n){e.exports={Authentication:"Authentication_Authentication__36mdA",InsideSpinner:"Authentication_InsideSpinner__22ifN"}},,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(33),o=n.n(c);t.a=function(e){var t=[];e.valid||t.push(o.a.Invalid);var n=null;switch(e.inputType){case"input":t.push(o.a.InputBox),n=a.a.createElement("input",Object.assign({className:t.join(" ")},e.elementConfig,{value:e.value,onChange:function(t){return e.changed(t,e.id)}}));break;case"dropdown":t.push(o.a.Dropdown),n=a.a.createElement("select",{className:t.join(" "),value:e.value,onChange:function(t){return e.changed(t,e.id)}},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})))}return a.a.createElement("div",{key:e.id,className:o.a.InputElement},a.a.createElement("label",{className:o.a.Label,hidden:!0},e.label),n)}},function(e,t,n){"use strict";var r=n(81),a=n(2),c=n.n(a),o=n(9),i=n(10),u=n(12),l=n(11),s=n(28),d=n.n(s),p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"top-bread":e=c.a.createElement("div",{className:d.a.BreadTop});break;case"bottom-bread":e=c.a.createElement("div",{className:d.a.BreadBottom});break;case"seed1":e=c.a.createElement("div",{className:d.a.Seeds1});break;case"meat":e=c.a.createElement("div",{className:d.a.Meat});break;case"salad":e=c.a.createElement("div",{className:d.a.Salad});break;case"cheese":e=c.a.createElement("div",{className:d.a.Cheese});break;case"bacon":e=c.a.createElement("div",{className:d.a.Bacon});break;default:e=null}return e}}]),n}(a.Component),m=n(77),g=n.n(m);t.a=function(e){var t=Object.keys(e.burgerIngredients).map((function(t){return Object(r.a)(Array(e.burgerIngredients[t])).map((function(e,n){return c.a.createElement(p,{key:t+n,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=c.a.createElement("h4",null,"Please add your ingredients!!")),c.a.createElement("div",{className:g.a.Burger},c.a.createElement(p,{key:"topbread",type:"top-bread"}),t,c.a.createElement(p,{key:"bottombread",type:"bottom-bread"}))}},function(e,t,n){e.exports={Content:"Layout_Content__2HFLs"}},function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Logo:"Logo_Logo__3fELO"}},function(e,t,n){e.exports={NavItems:"NavigationItems_NavItems__149Vp"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1SM6L"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1Yi4m"}},,function(e,t,n){e.exports={Loader:"Spinner_Loader__2hDtx",load5:"Spinner_load5__nTe2L"}},,function(e,t,n){e.exports={Burger:"Burger_Burger__1E-1J"}},function(e,t,n){e.exports={ModalContainer:"Modal_ModalContainer__1oyJ6"}},,,,function(e,t,n){e.exports=n(111)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(40),o=n.n(c),i=(n(87),n(9)),u=n(10),l=n(12),s=n(11),d=n(19),p=n(68),m=n.n(p),g=n(44),h=n.n(g),f=n(69),b=n.n(f),E=n(70),v=n.n(E),_=function(e){return a.a.createElement("div",{className:v.a.Logo},a.a.createElement("img",{src:b.a,alt:"MCFranco"}))},O=n(49),k=n.n(O),j=n(29),I=function(e){return a.a.createElement("li",{className:k.a.NavItem},a.a.createElement(j.b,{to:e.href,activeClassName:k.a.active,exact:!0,onClick:e.clicked},e.children))},y=n(71),S=n.n(y),C=function(e){var t=a.a.createElement(I,{href:"/auth",clicked:e.clicked},"Login"),n=a.a.createElement(I,{href:"/auth/logout",clicked:e.clicked},"Logout");return a.a.createElement("ul",{className:S.a.NavItems},a.a.createElement(I,{href:"/",clicked:e.clicked},"Burger"),e.authenticated?a.a.createElement(I,{href:"/orders",clicked:e.clicked},"Orders"):null,e.authenticated?n:t)},N=n(72),w=n.n(N),T=function(e){return a.a.createElement("div",{onClick:e.clicked,className:w.a.DrawerToggle},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},D=function(e){return a.a.createElement("header",{className:h.a.Toolbar},a.a.createElement(T,{clicked:e.drawerToggleClicked}),a.a.createElement("div",{className:h.a.Logo},a.a.createElement(_,null)),a.a.createElement("nav",{className:h.a.DesktopOnly},a.a.createElement(C,{authenticated:e.authenticated})))},B=n(38),L=n.n(B),A=n(42),U=function(e){var t=[];t.push(L.a.Sidedrawer),e.show?t.push(L.a.Open):t.push(L.a.Close);var n=null;return e.show&&(n=a.a.createElement(d.a,null,a.a.createElement(A.a,{show:e.show,clicked:e.closeClicked}),a.a.createElement("div",{className:t.join(" ")},a.a.createElement("div",{className:L.a.Logo},a.a.createElement(_,null)),a.a.createElement("nav",null,a.a.createElement(C,{clicked:e.closeClicked,authenticated:e.authenticated}))))),n},x=n(14),P=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showSideDrawer:!1},e.closeSideDrawerHandler=function(){e.setState({showSideDrawer:!1})},e.openSideDrawerHandler=function(){e.setState({showSideDrawer:!0})},e.drawerTogglerHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.user&&!0;return a.a.createElement(d.a,null,a.a.createElement(U,{show:this.state.showSideDrawer,openClicked:this.openSideDrawerHandler,closeClicked:this.closeSideDrawerHandler,authenticated:e}),a.a.createElement(D,{show:!this.state.showSideDrawer,drawerToggleClicked:this.drawerTogglerHandler,authenticated:e}),a.a.createElement("main",{className:m.a.Content},this.props.children))}}]),n}(r.Component),R=Object(x.b)((function(e){return{user:e.auth.user}}))(P),M=n(8),F=n(25),H=n(15),G=n(4),V=n(67),q=n(39),Y=n.n(q),z=function(e){return a.a.createElement("div",{className:Y.a.BuildControl},a.a.createElement("label",{className:Y.a.Label},e.label),a.a.createElement("button",{className:Y.a.Less,onClick:function(){return e.lessClicked(e.type)},disabled:e.disabled},"Less"),a.a.createElement("button",{className:Y.a.More,onClick:function(){return e.moreClicked(e.type)}},"More"))},K=n(53),W=n.n(K),X=function(e){return a.a.createElement("div",{className:W.a.ControlPanel},a.a.createElement("p",null,"Current Price: ",a.a.createElement("strong",null,"$ ",e.totalPrice.toFixed(2))),[{label:"Salad",type:"salad"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"},{label:"Bacon",type:"bacon"}].map((function(t){return a.a.createElement(z,{key:t.label,label:t.label,type:t.type,lessClicked:e.lessButtonClicked,moreClicked:e.moreButtonClicked,disabled:e.disabledInfo[t.type]})})),a.a.createElement("button",{disabled:!e.purchasable,className:W.a.CheckoutButton,onClick:e.purchasing},e.authenticated?"PURCHASE":"SIGN UP"))},Z=n(43),J=n(48),$=function(e){var t=Object.keys(e.ingredients).map((function(t){return a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t,": ",e.ingredients[t]))}));return a.a.createElement(d.a,null,a.a.createElement("h3",null,"Your Order"),a.a.createElement("p",null,"Ingredients of your burger:"),a.a.createElement("ul",null,t),a.a.createElement("p",null,a.a.createElement("strong",null,"Total: $",e.price.toFixed(2))),a.a.createElement(J.a,{clicked:e.purchaseCanceled,type:"cancel"},"CANCEL"),a.a.createElement(J.a,{clicked:e.continueClicked,type:"success"},"CONTINUE"))},Q=n(32),ee=n(23),te=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={purchasing:!1,loading:!1},e.purchasingHandler=function(){e.props.authenticated?e.setState({purchasing:!0}):e.props.history.push("/auth")},e.cancelPurchasingHandler=function(){e.setState({purchasing:!1})},e.continuePurchaseHandler=function(){e.props.history.push("/checkout")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.ingrs||this.props.fetchIngredients()}},{key:"updatePurchasableState",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)>0}},{key:"render",value:function(){var e=Object(G.a)({},this.props.ingrs);for(var t in e)e[t]=e[t]<=0;var n=a.a.createElement($,{ingredients:this.props.ingrs,purchaseCanceled:this.cancelPurchasingHandler,continueClicked:this.continuePurchaseHandler,price:this.props.price});this.state.loading&&(n=a.a.createElement(F.a,null));var r=this.state.error?"There was an error":a.a.createElement(F.a,null);return this.props.ingrs&&(r=a.a.createElement(d.a,null,a.a.createElement(V.a,{burgerIngredients:this.props.ingrs}),a.a.createElement(X,{lessButtonClicked:this.props.onRemoveIngredient,moreButtonClicked:this.props.onAddIngredient,disabledInfo:e,totalPrice:this.props.price,purchasable:this.updatePurchasableState(this.props.ingrs),purchasing:this.purchasingHandler,cancelPurchasing:this.cancelPurchasingHandler,authenticated:this.props.authenticated}))),a.a.createElement(d.a,null,a.a.createElement(Z.a,{show:this.state.purchasing},n),r)}}]),n}(r.Component),ne=Object(x.b)((function(e){return{ingrs:e.burger.burgerIngredients,price:e.burger.totalPrice,error:e.burger.error,authenticated:e.auth.user}}),(function(e){return{onAddIngredient:function(t){return e(Object(H.a)(t))},onRemoveIngredient:function(t){return e(Object(H.h)(t))},fetchIngredients:function(){return e(Object(H.d)())}}}))(Object(Q.a)(te,ee.a)),re=n(54),ae=n.n(re),ce=function(e){var t=Object.keys(e.ingredients).map((function(t){return a.a.createElement("span",{className:ae.a.OrderLabel,key:t}," ","".concat(t,"(").concat(e.ingredients[t],")"))})),n=new Date(e.orderDate),r="".concat(n.getDate(),"/").concat(n.getMonth(),"/").concat(n.getYear());return a.a.createElement("div",{className:ae.a.Order},a.a.createElement("p",{style:{textAlign:"right"}},a.a.createElement("strong",null,r)),a.a.createElement("p",null,"Price: ",a.a.createElement("strong",null,"USD ",e.price.toFixed(2))),a.a.createElement("p",null,t))},oe=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadOrders(this.props.user)}},{key:"render",value:function(){var e=a.a.createElement(F.a,null);return this.props.loading||(e=a.a.createElement("div",null,this.props.orderArray.map((function(e){return a.a.createElement(ce,{key:e.id,price:+e.price,ingredients:e.ingredients,orderDate:e.date})})))),a.a.createElement(a.a.Fragment,null,e)}}]),n}(r.Component),ie=Object(x.b)((function(e){return{orderArray:e.orders.orders,loading:e.orders.loading,user:e.auth.user}}),(function(e){return{loadOrders:function(t){return e(H.e(t.idToken,t.uid))}}}))(Object(Q.a)(oe,ee.a)),ue=n(66),le=n(55),se=n.n(le),de=n(34),pe=n.n(de),me=function(e){var t=[];return t.push(pe.a.ToggleButton),e.active&&t.push(pe.a.Active),a.a.createElement("div",{onClick:e.toggleClicked,className:pe.a.Container},a.a.createElement("label",{className:pe.a.Label},e.label),a.a.createElement("div",{className:t.join(" ")},a.a.createElement("div",{className:pe.a.InnerCircle})))},ge=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={loginForm:{email:{inputType:"input",value:"",label:"Username",elementConfig:{placeholder:"Enter your email",type:"email",validationRules:{required:!0,minLength:5,isEmail:!0}},touched:!1,valid:!0},password:{inputType:"input",value:"",label:"Password",elementConfig:{placeholder:"Enter your password",type:"password",validationRules:{required:!0,minLength:6}},touched:!1,valid:!0}},loginFormValid:!1,isSignUp:!1},e.onSubmitHandler=function(t){t.preventDefault();var n=e.state.loginForm.email.value,r=e.state.loginForm.password.value;e.state.isSignUp?e.props.signupUser(n,r):e.props.loginUser(n,r)},e.inputChangeHandler=function(t,n){var r=Object(G.a)({},e.state.loginForm),a=t.target.value;r[n].value=a,r[n].touched=!0,r[n].valid=e.validateInput(n,a);var c=e.checkFormValidity();e.setState({loginForm:r,loginFormValid:c})},e.onToggleButtonChange=function(t){e.setState((function(e){return{isSignUp:!e.isSignUp}}))},e}return Object(u.a)(n,[{key:"checkFormValidity",value:function(){var e=!0;for(var t in this.state.loginForm)!1!==this.state.loginForm[t].valid&&!1!==this.state.loginForm[t].touched||(e=!1);return e}},{key:"validateInput",value:function(e,t){var n=this.state.loginForm[e].elementConfig.validationRules,r=!0;if(n&&n.required&&""===t&&!0===this.state.loginForm[e].touched&&(r=!1),n&&n.minLength&&t.length<n.minLength&&(r=!1),n&&n.maxLength&&t.length>n.maxLength&&(r=!1),n&&n.isEmail){r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}return r}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.loginForm)t.push({id:n,input:this.state.loginForm[n]});var r=t.map((function(t){return a.a.createElement(ue.a,Object.assign({key:t.id,id:t.id},t.input,{changed:e.inputChangeHandler}))})),c="LOGIN";this.state.isSignUp&&(c="SIGN UP");var o=a.a.createElement("div",{className:se.a.InsideSpinner},a.a.createElement(F.a,null));return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:se.a.Authentication},a.a.createElement("form",{onSubmit:this.onSubmitHandler},r,a.a.createElement("span",{style:{color:"red"}},this.props.error),a.a.createElement("button",{disabled:!this.state.loginFormValid},this.props.loading?o:c)),a.a.createElement(me,{label:"Switch to ".concat(this.state.isSignUp?"LOGIN":"SIGN UP"),active:this.state.isSignUp,toggleClicked:this.onToggleButtonChange})),this.props.user?a.a.createElement(M.a,{to:"/"}):null)}}]),n}(r.Component),he=Object(x.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,user:e.auth.user}}),(function(e){return{loginUser:function(t,n){return e(Object(H.f)(t,n))},signupUser:function(t,n){return e(Object(H.i)(t,n))}}}))(Object(Q.a)(ge,ee.a)),fe=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.logoutUser()}},{key:"render",value:function(){return a.a.createElement(M.a,{to:"/"})}}]),n}(r.Component),be=Object(x.b)(null,(function(e){return{logoutUser:function(){return e(Object(H.g)())}}}))(fe),Ee=a.a.lazy((function(){return n.e(3).then(n.bind(null,114))})),ve=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.checkForAuthenticatedUser()}},{key:"render",value:function(){var e=a.a.createElement(M.d,null,a.a.createElement(M.b,{path:"/",exact:!0,component:ne}),a.a.createElement(M.b,{path:"/checkout",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(F.a,null)},a.a.createElement(Ee,e))}}),a.a.createElement(M.b,{path:"/auth",exact:!0,component:he}),a.a.createElement(M.a,{to:"/"}));return this.props.authenticated&&(e=a.a.createElement(M.d,null,a.a.createElement(M.b,{path:"/",exact:!0,component:ne}),a.a.createElement(M.b,{path:"/checkout",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(F.a,null)},a.a.createElement(Ee,e))}}),a.a.createElement(M.b,{path:"/orders",component:ie}),a.a.createElement(M.b,{path:"/auth/logout",component:be}),a.a.createElement(M.a,{to:"/"}))),a.a.createElement("div",null,a.a.createElement(R,null,e))}}]),n}(r.Component),_e=Object(M.g)(Object(x.b)((function(e){return{authenticated:e.auth.user&&!0}}),(function(e){return{checkForAuthenticatedUser:function(){return e(Object(H.c)())},logOutUser:function(){return e(Object(H.g)())}}}))(ve));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=n(30),ke=n(79),je=n(37),Ie=n(26),ye={salad:.4,cheese:.5,bacon:.3,meat:1.5},Se={burgerIngredients:null,totalPrice:4,error:!1},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie.a:return Object(G.a)(Object(G.a)({},e),{},{burgerIngredients:Object(G.a)(Object(G.a)({},e.burgerIngredients),{},Object(je.a)({},t.ingredientName,e.burgerIngredients[t.ingredientName]+1)),totalPrice:e.totalPrice+ye[t.ingredientName]});case Ie.c:return Object(G.a)(Object(G.a)({},e),{},{burgerIngredients:Object(G.a)(Object(G.a)({},e.burgerIngredients),{},Object(je.a)({},t.ingredientName,e.burgerIngredients[t.ingredientName]-1)),totalPrice:e.totalPrice-ye[t.ingredientName]});case Ie.b:return Object(G.a)(Object(G.a)({},e),{},{burgerIngredients:t.burgerIngredients});case Ie.d:return Object(G.a)(Object(G.a)({},e),{},{error:!0});default:return e}},Ne=n(17),we={orders:[],loading:!1,error:null},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.a:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case Ne.f:var n=e.orders.concat({orderId:t.orderId,orderData:t.orderData});return Object(G.a)(Object(G.a)({},e),{},{orders:n,loading:!1});case Ne.e:case Ne.c:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case Ne.d:return Object(G.a)(Object(G.a)({},e),{},{orders:t.fetchedOrders,loading:!1});case Ne.b:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:t.error});default:return e}},De=n(13),Be={loading:!1,user:null,error:null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De.b:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case De.c:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,user:t.user});case De.a:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:t.error});case De.d:return Object(G.a)(Object(G.a)({},e),{},{user:null});case De.f:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case De.g:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,user:t.user});case De.e:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:t.error});default:return e}},Ae="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Oe.d,Ue=Object(Oe.c)({burger:Ce,orders:Te,auth:Le}),xe=Object(Oe.e)(Ue,Ae(Object(Oe.a)(ke.a,(function(e){return function(e){return function(t){return e(t)}}}))));o.a.render(a.a.createElement(x.a,{store:xe},a.a.createElement(a.a.StrictMode,null,a.a.createElement(j.a,null,a.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[82,1,2]]]);
//# sourceMappingURL=main.8e3b8564.chunk.js.map